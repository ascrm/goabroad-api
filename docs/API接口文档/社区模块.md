# ç¤¾åŒºæ¨¡å— (Community)

## 5.1 è·å–å¸–å­åˆ—è¡¨

**æ¥å£**: `GET /community/posts`  
**è¯´æ˜**: è·å–å¸–å­åˆ—è¡¨ï¼ˆæ”¯æŒç­›é€‰ï¼‰  
**éœ€è¦è®¤è¯**: å¦ï¼ˆç™»å½•åå¯çœ‹åˆ°ä¸ªæ€§åŒ–æ¨èï¼‰

### Query å‚æ•°

```
tab: recommend | following | country | stage  # Tabç±»å‹
country: US | UK | CA ...                    # å›½å®¶ç­›é€‰
stage: preparation | applying | waiting ...   # é˜¶æ®µç­›é€‰
type: POST | QUESTION | TIMELINE | VLOG      # å†…å®¹ç±»å‹
sort: latest | hot | recommended             # æ’åºæ–¹å¼
page: é¡µç 
pageSize: æ¯é¡µæ•°é‡
```

### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "items": [
      {
        "id": 123,
        "author": {
          "id": 1,
          "nickname": "GoAbroadå°æ–°",
          "avatarUrl": "https://cdn.goabroad.com/avatars/1.jpg"
        },
        "contentType": "POST",
        "title": "ç¾å›½F1ç­¾è¯é¢ç­¾ç»éªŒåˆ†äº«",
        "summary": "ä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾ï¼Œåˆ†äº«ä¸€ä¸‹ç»éªŒ...",
        "coverImage": "https://cdn.goabroad.com/posts/cover-123.jpg",
        "mediaUrls": [
          "https://cdn.goabroad.com/posts/img1.jpg",
          "https://cdn.goabroad.com/posts/img2.jpg"
        ],
        "tags": "ç¾å›½,ç­¾è¯,F1,é¢ç­¾ç»éªŒ",
        "likeCount": 125,
        "commentCount": 32,
        "collectCount": 85,
        "viewCount": 1520,
        "isLiked": false,
        "isCollected": false,
        "isPinned": false,
        "isFeatured": true,
        "status": "PUBLISHED",
        "createdAt": "2024-10-20T10:00:00",
        "updatedAt": "2024-10-20T10:00:00"
      },
      {
        "id": 124,
        "author": {
          "id": 2,
          "nickname": "ç•™å­¦å°ç™½",
          "avatarUrl": "https://cdn.goabroad.com/avatars/2.jpg"
        },
        "contentType": "QUESTION",
        "title": "è¯·é—®è‹±å›½è¯»ç ”éœ€è¦å‡†å¤‡å¤šå°‘é’±ï¼Ÿ",
        "summary": "æ‰“ç®—æ˜å¹´å»è‹±å›½è¯»ç ”ï¼Œä¸çŸ¥é“éœ€è¦å‡†å¤‡å¤šå°‘é’±...",
        "tags": "è‹±å›½,ç•™å­¦,è´¹ç”¨",
        "likeCount": 15,
        "commentCount": 8,
        "collectCount": 5,
        "viewCount": 280,
        "isLiked": false,
        "isCollected": false,
        "status": "PUBLISHED",
        "createdAt": "2024-10-24T16:30:00",
        "updatedAt": "2024-10-24T16:30:00"
      }
    ],
    "pagination": {
      "currentPage": 1,
      "pageSize": 20,
      "totalItems": 1520,
      "totalPages": 76,
      "hasNext": true,
      "hasPrevious": false,
      "isFirstPage": true,
      "isLastPage": false
    }
  }
}
```

**ğŸ”§ [å·²ä¿®æ­£ - é‡è¦]**:
- å¸–å­IDå’Œä½œè€…IDæ”¹ä¸ºæ•°å­—ç±»å‹
- avataræ”¹ä¸ºavatarUrl
- ç§»é™¤author.levelï¼ˆæ•°æ®åº“usersè¡¨æ— æ­¤å­—æ®µï¼‰
- imagesæ”¹ä¸ºmediaUrlsï¼ˆå¯¹åº”æ•°æ®åº“postsè¡¨çš„media_urls JSONBå­—æ®µï¼‰
- contentå’ŒcontentPreviewåˆå¹¶ä¸ºsummaryï¼ˆåˆ—è¡¨åªæ˜¾ç¤ºæ‘˜è¦ï¼‰
- ç§»é™¤countryå’Œstageå­—æ®µï¼ˆæ•°æ®åº“postsè¡¨æ— æ­¤å­—æ®µï¼Œå¯ä»categoryæˆ–metadataè·å–ï¼‰
- tagsä»æ•°ç»„æ”¹ä¸ºé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ˆä¸æ•°æ®åº“VARCHARç±»å‹ä¸€è‡´ï¼‰
- æ·»åŠ statuså­—æ®µï¼ˆæ•°æ®åº“æœ‰æ­¤å­—æ®µï¼šDRAFT/PUBLISHED/DELETEDï¼‰
- æ·»åŠ updatedAtå­—æ®µ
- paginationæ”¹ä¸ºç»Ÿä¸€æ ¼å¼
- æ—¶é—´æ ¼å¼å»æ‰Zåç¼€

---

## 5.2 è·å–å¸–å­è¯¦æƒ…

**æ¥å£**: `GET /community/posts/:postId`  
**è¯´æ˜**: è·å–å¸–å­è¯¦æƒ…  
**éœ€è¦è®¤è¯**: å¦

### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "id": 123,
    "author": {
      "id": 1,
      "nickname": "GoAbroadå°æ–°",
      "avatarUrl": "https://cdn.goabroad.com/avatars/1.jpg",
      "bio": "æ­£åœ¨å‡†å¤‡ç¾å›½ç•™å­¦",
      "postCount": 25,
      "followerCount": 120,
      "isFollowing": false
    },
    "contentType": "POST",
    "title": "ç¾å›½F1ç­¾è¯é¢ç­¾ç»éªŒåˆ†äº«",
    "content": "# å‰è¨€\n\nä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾...\n\n## å‡†å¤‡ææ–™\n\n1. æŠ¤ç…§\n2. I-20...",
    "status": "PUBLISHED",
    "coverImage": "https://cdn.goabroad.com/posts/cover-123.jpg",
    "mediaUrls": [
      "https://cdn.goabroad.com/posts/img1.jpg",
      "https://cdn.goabroad.com/posts/img2.jpg"
    ],
    "tags": "ç¾å›½,ç­¾è¯,F1,é¢ç­¾ç»éªŒ",
    "likeCount": 125,
    "commentCount": 32,
    "collectCount": 85,
    "viewCount": 1521,
    "isLiked": false,
    "isCollected": false,
    "isPinned": false,
    "isFeatured": true,
    "createdAt": "2024-10-20T10:00:00",
    "updatedAt": "2024-10-20T10:00:00"
  }
}
```

**ğŸ”§ [å·²ä¿®æ­£ - é‡è¦]**:
- å¸–å­IDå’Œä½œè€…IDæ”¹ä¸ºæ•°å­—ç±»å‹
- avataræ”¹ä¸ºavatarUrl
- ç§»é™¤author.levelï¼ˆæ•°æ®åº“usersè¡¨æ— æ­¤å­—æ®µï¼‰
- ç›´æ¥ä½¿ç”¨postCountã€followerCountï¼ˆä¸æ•°æ®åº“userså­—æ®µä¸€è‡´ï¼‰
- imagesæ”¹ä¸ºmediaUrlsï¼ˆå¯¹åº”æ•°æ®åº“postsè¡¨çš„media_urls JSONBå­—æ®µï¼‰
- ç§»é™¤videosï¼ˆæ•°æ®åº“postsè¡¨æ— æ­¤å­—æ®µï¼Œè§†é¢‘ä¹Ÿå­˜å‚¨åœ¨media_urlsä¸­ï¼‰
- tagsæ”¹ä¸ºé€—å·åˆ†éš”å­—ç¬¦ä¸²ï¼ˆä¸æ•°æ®åº“postsè¡¨ä¸€è‡´ï¼‰
- ç§»é™¤countryã€countryNameã€stageï¼ˆæ•°æ®åº“postsè¡¨æ— è¿™äº›ç‹¬ç«‹å­—æ®µï¼Œå¯ä»categoryæˆ–é€šè¿‡country_codeå…³è”æŸ¥è¯¢ï¼‰
- ç§»é™¤relatedPostsï¼ˆåº”é€šè¿‡å•ç‹¬æ¥å£æŸ¥è¯¢ï¼‰
- æ—¶é—´æ ¼å¼å»æ‰Zåç¼€

---

## 5.3 å‘å¸ƒå¸–å­

**æ¥å£**: `POST /community/posts`  
**è¯´æ˜**: å‘å¸ƒæ–°å¸–å­  
**éœ€è¦è®¤è¯**: æ˜¯

### è¯·æ±‚å‚æ•°

```json
{
  "contentType": "POST",
  "title": "ç¾å›½F1ç­¾è¯é¢ç­¾ç»éªŒåˆ†äº«",
  "content": "# å‰è¨€\n\nä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾...",
  "summary": "ä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾ï¼Œåˆ†äº«ä¸€ä¸‹ç»éªŒ...",
  "status": "PUBLISHED",
  "coverImage": "https://cdn.goabroad.com/posts/cover-123.jpg",
  "mediaUrls": [
    "https://cdn.goabroad.com/posts/img1.jpg",
    "https://cdn.goabroad.com/posts/img2.jpg"
  ],
  "tags": "ç¾å›½,ç­¾è¯,F1,é¢ç­¾ç»éªŒ",
  "countryCode": "US",
  "category": "ç­¾è¯"
}
```

**ğŸ”§ [å·²ä¿®æ­£ - é‡è¦]**: 
- æ·»åŠ summaryå­—æ®µï¼ˆæ•°æ®åº“æœ‰æ­¤å­—æ®µï¼Œç”¨äºåˆ—è¡¨å±•ç¤ºï¼‰
- imagesæ”¹ä¸ºmediaUrlsï¼ˆå¯¹åº”æ•°æ®åº“postsè¡¨çš„media_urls JSONBå­—æ®µï¼‰
- tagsæ”¹ä¸ºé€—å·åˆ†éš”å­—ç¬¦ä¸²ï¼ˆä¸æ•°æ®åº“ä¸€è‡´ï¼‰
- æ·»åŠ countryCodeå’Œcategoryå­—æ®µï¼ˆæ•°æ®åº“postsè¡¨æœ‰è¿™äº›å­—æ®µï¼‰
- statusä¸ºDRAFT/PUBLISHED/DELETEDä¹‹ä¸€

### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "message": "å‘å¸ƒæˆåŠŸ",
  "data": {
    "id": 125,
    "authorId": 1,
    "contentType": "POST",
    "title": "ç¾å›½F1ç­¾è¯é¢ç­¾ç»éªŒåˆ†äº«",
    "summary": "ä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾ï¼Œåˆ†äº«ä¸€ä¸‹ç»éªŒ...",
    "content": "# å‰è¨€\n\nä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾...",
    "status": "PUBLISHED",
    "coverImage": "https://cdn.goabroad.com/posts/cover-123.jpg",
    "mediaUrls": [
      "https://cdn.goabroad.com/posts/img1.jpg",
      "https://cdn.goabroad.com/posts/img2.jpg"
    ],
    "tags": "ç¾å›½,ç­¾è¯,F1",
    "countryCode": "US",
    "category": "ç­¾è¯",
    "likeCount": 0,
    "commentCount": 0,
    "collectCount": 0,
    "viewCount": 0,
    "shareCount": 0,
    "isPinned": false,
    "isFeatured": false,
    "isHot": false,
    "allowComment": true,
    "createdAt": "2024-10-25T16:00:00",
    "updatedAt": "2024-10-25T16:00:00",
    "publishedAt": "2024-10-25T16:00:00"
  }
}
```

**ğŸ”§ [å·²ä¿®æ­£ - é‡è¦]**: 
- IDæ”¹ä¸ºæ•°å­—ç±»å‹
- æ·»åŠ authorIdï¼ˆè¿”å›ä½œè€…IDè€Œéå®Œæ•´authorå¯¹è±¡ï¼‰
- imagesæ”¹ä¸ºmediaUrls
- tagsæ”¹ä¸ºå­—ç¬¦ä¸²
- æ·»åŠ countryCodeå’Œcategoryå­—æ®µ
- æ·»åŠ æ•°æ®åº“postsè¡¨çš„å®Œæ•´å­—æ®µï¼ˆshareCount, isHot, allowComment, publishedAtï¼‰

---

## 5.4 ç¼–è¾‘å¸–å­

**æ¥å£**: `PUT /community/posts/:postId`  
**è¯´æ˜**: ç¼–è¾‘å·²å‘å¸ƒçš„å¸–å­  
**éœ€è¦è®¤è¯**: æ˜¯ï¼ˆä»…ä½œè€…å¯ç¼–è¾‘ï¼‰

### è¯·æ±‚å‚æ•°

```json
{
  "title": "æ›´æ–°åçš„æ ‡é¢˜",
  "content": "æ›´æ–°åçš„å†…å®¹",
  "images": [],
  "tags": ["æ›´æ–°", "æ ‡ç­¾"]
}
```

---

## 5.5 åˆ é™¤å¸–å­

**æ¥å£**: `DELETE /community/posts/:postId`  
**è¯´æ˜**: åˆ é™¤å¸–å­  
**éœ€è¦è®¤è¯**: æ˜¯ï¼ˆä»…ä½œè€…å¯åˆ é™¤ï¼‰

---

## 5.6 ç‚¹èµå¸–å­

**æ¥å£**: `POST /community/posts/:postId/like`  
**è¯´æ˜**: ç‚¹èµæˆ–å–æ¶ˆç‚¹èµå¸–å­ï¼ˆtoggleï¼‰  
**éœ€è¦è®¤è¯**: æ˜¯

### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "message": "ç‚¹èµæˆåŠŸ",
  "data": {
    "isLiked": true,
    "likeCount": 126
  }
}
```

---

## 5.7 æ”¶è—å¸–å­

**æ¥å£**: `POST /community/posts/:postId/collect`  
**è¯´æ˜**: æ”¶è—æˆ–å–æ¶ˆæ”¶è—å¸–å­ï¼ˆtoggleï¼‰  
**éœ€è¦è®¤è¯**: æ˜¯

### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "message": "æ”¶è—æˆåŠŸ",
  "data": {
    "isCollected": true,
    "collectCount": 86
  }
}
```

---

## 5.8 è·å–è¯„è®ºåˆ—è¡¨

**æ¥å£**: `GET /community/posts/:postId/comments`  
**è¯´æ˜**: è·å–å¸–å­çš„è¯„è®ºåˆ—è¡¨  
**éœ€è¦è®¤è¯**: å¦

### Query å‚æ•°

```
sort: latest | hot        # æ’åºæ–¹å¼
page: é¡µç 
pageSize: æ¯é¡µæ•°é‡
```

### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "message": "Success",
  "data": {
    "items": [
      {
        "id": 123,
        "postId": 123,
        "author": {
          "id": 456,
          "nickname": "çƒ­å¿ƒç½‘å‹",
          "avatarUrl": "https://cdn.goabroad.com/avatars/456.jpg"
        },
        "content": "éå¸¸æœ‰ç”¨çš„åˆ†äº«ï¼Œæ„Ÿè°¢ï¼",
        "likeCount": 15,
        "replyCount": 2,
        "isLiked": false,
        "parentId": null,
        "rootId": null,
        "status": "VISIBLE",
        "replies": [
          {
            "id": 124,
            "postId": 123,
            "author": {
              "id": 1,
              "nickname": "GoAbroadå°æ–°",
              "avatarUrl": "https://cdn.goabroad.com/avatars/1.jpg"
            },
            "content": "ä¸å®¢æ°”ï¼Œç¥ä½ å¥½è¿ï¼",
            "likeCount": 5,
            "isLiked": false,
            "parentId": 123,
            "rootId": 123,
            "status": "VISIBLE",
            "createdAt": "2024-10-20T11:00:00",
            "updatedAt": "2024-10-20T11:00:00"
          }
        ],
        "createdAt": "2024-10-20T10:30:00",
        "updatedAt": "2024-10-20T10:30:00"
      }
    ],
    "pagination": {
      "currentPage": 1,
      "pageSize": 20,
      "totalItems": 32,
      "totalPages": 2,
      "hasNext": true,
      "hasPrevious": false,
      "isFirstPage": true,
      "isLastPage": false
    }
  }
}
```

**ğŸ”§ [å·²ä¿®æ­£ - é‡è¦]**:
- æ‰€æœ‰IDæ”¹ä¸ºæ•°å­—ç±»å‹ï¼ˆcommentId, postId, userIdï¼‰
- avataræ”¹ä¸ºavatarUrl
- ç§»é™¤author.levelï¼ˆæ•°æ®åº“usersè¡¨æ— æ­¤å­—æ®µï¼‰
- ç§»é™¤imageså­—æ®µï¼ˆæ•°æ®åº“commentsè¡¨æ— æ­¤å­—æ®µï¼‰
- ç§»é™¤replyToUserIdå­—æ®µï¼ˆæ•°æ®åº“commentsè¡¨æ— æ­¤å­—æ®µï¼Œé€šè¿‡parentIdåˆ¤æ–­å›å¤å…³ç³»ï¼‰
- æ·»åŠ rootIdå­—æ®µï¼ˆæ•°æ®åº“commentsè¡¨æœ‰æ­¤å­—æ®µï¼Œç”¨äºå¿«é€Ÿå®šä½æ ¹è¯„è®ºï¼‰
- statuså­—æ®µä¸ºVISIBLE/HIDDEN/DELETEDï¼ˆä¸æ•°æ®åº“ä¸€è‡´ï¼Œä¸æ˜¯APPROVED/PENDING/REJECTEDï¼‰
- æ·»åŠ updatedAtå­—æ®µ
- paginationæ”¹ä¸ºç»Ÿä¸€æ ¼å¼
- æ—¶é—´æ ¼å¼å»æ‰Zåç¼€

---

## 5.9 å‘è¡¨è¯„è®º

**æ¥å£**: `POST /community/posts/:postId/comments`  
**è¯´æ˜**: å‘è¡¨è¯„è®ºæˆ–å›å¤  
**éœ€è¦è®¤è¯**: æ˜¯

### è¯·æ±‚å‚æ•°

```json
{
  "content": "éå¸¸æœ‰ç”¨çš„åˆ†äº«ï¼Œæ„Ÿè°¢ï¼",
  "parentId": null,
  "rootId": null
}
```

**ğŸ”§ [å·²ä¿®æ­£ - é‡è¦]**: 
- ç§»é™¤replyToUserIdå­—æ®µï¼ˆæ•°æ®åº“commentsè¡¨æ— æ­¤å­—æ®µï¼‰
- æ·»åŠ rootIdå­—æ®µï¼ˆæ•°æ®åº“commentsè¡¨æœ‰æ­¤å­—æ®µï¼Œç”¨äºæ ‡è¯†æ ¹è¯„è®ºï¼‰

### å“åº”ç¤ºä¾‹

```json
{
  "code": 200,
  "message": "è¯„è®ºæˆåŠŸ",
  "data": {
    "id": 125,
    "postId": 123,
    "authorId": 1,
    "content": "éå¸¸æœ‰ç”¨çš„åˆ†äº«ï¼Œæ„Ÿè°¢ï¼",
    "likeCount": 0,
    "replyCount": 0,
    "parentId": null,
    "rootId": null,
    "status": "VISIBLE",
    "createdAt": "2024-10-25T16:30:00",
    "updatedAt": "2024-10-25T16:30:00"
  }
}
```

**ğŸ”§ [å·²ä¿®æ­£ - é‡è¦]**: 
- IDæ”¹ä¸ºæ•°å­—ç±»å‹
- userIdæ”¹ä¸ºauthorIdï¼ˆä¸æ•°æ®åº“author_idå­—æ®µä¸€è‡´ï¼‰
- ç§»é™¤replyToUserIdå­—æ®µï¼ˆæ•°æ®åº“commentsè¡¨æ— æ­¤å­—æ®µï¼‰
- æ·»åŠ rootIdå­—æ®µï¼ˆæ•°æ®åº“commentsè¡¨æœ‰æ­¤å­—æ®µï¼‰
- statusæ”¹ä¸ºVISIBLEï¼ˆä¸æ•°æ®åº“ä¸€è‡´ï¼Œä¸æ˜¯APPROVEDï¼‰

---

## 5.10 åˆ é™¤è¯„è®º

**æ¥å£**: `DELETE /community/posts/:postId/comments/:commentId`  
**è¯´æ˜**: åˆ é™¤è¯„è®º  
**éœ€è¦è®¤è¯**: æ˜¯ï¼ˆä»…ä½œè€…å¯åˆ é™¤ï¼‰

---

## 5.11 ç‚¹èµè¯„è®º

**æ¥å£**: `POST /community/posts/:postId/comments/:commentId/like`  
**è¯´æ˜**: ç‚¹èµæˆ–å–æ¶ˆç‚¹èµè¯„è®ºï¼ˆtoggleï¼‰  
**éœ€è¦è®¤è¯**: æ˜¯

---

## 5.12 ä¸¾æŠ¥å¸–å­/è¯„è®º

**æ¥å£**: `POST /community/reports`  
**è¯´æ˜**: ä¸¾æŠ¥è¿è§„å†…å®¹  
**éœ€è¦è®¤è¯**: æ˜¯

### è¯·æ±‚å‚æ•°

```json
{
  "type": "post",  // post, comment
  "targetId": "post-123",
  "reason": "spam",  // spam, inappropriate, false_info, other
  "description": "è¯¦ç»†è¯´æ˜..."
}
```

---

## æ•°æ®æ¨¡å‹

### å¸–å­ç®€è¦ä¿¡æ¯ (PostSimpleVo)

```typescript
interface PostSimpleVo {
  id: number;
  author: {
    id: number;
    nickname: string;
    avatarUrl?: string;
  };
  contentType: 'POST' | 'QUESTION' | 'TIMELINE' | 'VLOG';
  title: string;
  summary: string;
  coverImage?: string;
  mediaUrls?: any[];  // JSONBç±»å‹ï¼Œå¯å­˜å‚¨å›¾ç‰‡ã€è§†é¢‘ç­‰å¤šåª’ä½“URL
  tags: string;  // é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ˆä¸æ•°æ®åº“VARCHARä¸€è‡´ï¼‰
  countryCode?: string;  // å…³è”å›½å®¶ä»£ç 
  category?: string;
  likeCount: number;
  commentCount: number;
  collectCount: number;
  viewCount: number;
  shareCount: number;
  isLiked: boolean;
  isCollected: boolean;
  isPinned: boolean;
  isFeatured: boolean;
  isHot: boolean;
  status: 'DRAFT' | 'PUBLISHED' | 'DELETED';  // ä¸æ•°æ®åº“ä¸€è‡´
  createdAt: string;
  updatedAt: string;
}
```

**è¯´æ˜**: ä¸æ•°æ®åº“postsè¡¨å­—æ®µå®Œå…¨ä¸€è‡´ï¼Œç§»é™¤author.levelï¼Œimagesæ”¹ä¸ºmediaUrls

### å¸–å­è¯¦ç»†ä¿¡æ¯ (PostDetailVo)

```typescript
interface PostDetailVo {
  id: number;
  author: {
    id: number;
    nickname: string;
    avatarUrl?: string;
    bio?: string;
    postCount: number;
    followerCount: number;
    isFollowing: boolean;
  };
  contentType: 'POST' | 'QUESTION' | 'TIMELINE' | 'VLOG';
  title: string;
  content: string;  // Markdownæ ¼å¼
  summary?: string;
  status: 'DRAFT' | 'PUBLISHED' | 'DELETED';  // ä¸æ•°æ®åº“ä¸€è‡´
  coverImage?: string;
  mediaUrls?: any[];  // JSONBç±»å‹
  tags: string;  // é€—å·åˆ†éš”çš„å­—ç¬¦ä¸²
  countryCode?: string;
  category?: string;
  likeCount: number;
  commentCount: number;
  collectCount: number;
  viewCount: number;
  shareCount: number;
  isLiked: boolean;
  isCollected: boolean;
  isPinned: boolean;
  isFeatured: boolean;
  isHot: boolean;
  allowComment: boolean;
  slug?: string;
  createdAt: string;
  updatedAt: string;
  publishedAt?: string;
}
```

**è¯´æ˜**: ä¸æ•°æ®åº“postsè¡¨å­—æ®µå®Œå…¨ä¸€è‡´ï¼Œç§»é™¤author.levelï¼Œæ·»åŠ æ•°æ®åº“å®é™…å­—æ®µ

### è¯„è®ºä¿¡æ¯ (Comment)

```typescript
interface Comment {
  id: number;
  postId: number;
  author: {
    id: number;
    nickname: string;
    avatarUrl?: string;
  };
  content: string;
  likeCount: number;
  replyCount: number;
  isLiked: boolean;
  parentId?: number;  // çˆ¶è¯„è®ºID
  rootId?: number;  // æ ¹è¯„è®ºIDï¼ˆæ•°æ®åº“æœ‰æ­¤å­—æ®µï¼‰
  status: 'VISIBLE' | 'HIDDEN' | 'DELETED';  // ä¸æ•°æ®åº“ä¸€è‡´
  replies?: Comment[];  // å­è¯„è®ºåˆ—è¡¨
  createdAt: string;
  updatedAt: string;
}
```

**è¯´æ˜**: ä¸æ•°æ®åº“commentsè¡¨å­—æ®µå®Œå…¨ä¸€è‡´ï¼Œç§»é™¤replyToUserIdï¼ˆæ•°æ®åº“æ— æ­¤å­—æ®µï¼‰ï¼Œæ·»åŠ rootIdï¼Œstatusä¸æ•°æ®åº“æšä¸¾å€¼ä¸€è‡´

---

## é”™è¯¯ç è¯´æ˜

### å¸–å­ç›¸å…³é”™è¯¯ç  (42xxx)

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 42001 | å¸–å­ä¸å­˜åœ¨ |
| 42002 | å¸–å­å·²è¢«åˆ é™¤ |
| 42003 | æ— æƒé™æ“ä½œè¯¥å¸–å­ |

### è¯„è®ºç›¸å…³é”™è¯¯ç  (43xxx)

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 43001 | è¯„è®ºä¸å­˜åœ¨ |
| 43002 | è¯„è®ºå·²è¢«åˆ é™¤ |
| 43003 | æ— æƒé™æ“ä½œè¯¥è¯„è®º |

---

## ä¸šåŠ¡è§„åˆ™è¯´æ˜

### å†…å®¹ç±»å‹è¯´æ˜

- **POST**: æ™®é€šåˆ†äº«å¸–å­ï¼ˆç»éªŒåˆ†äº«ã€æ”»ç•¥ç­‰ï¼‰
- **QUESTION**: é—®ç­”å¸–å­
- **TIMELINE**: æ—¶é—´çº¿åŠ¨æ€ï¼ˆç®€çŸ­çš„çŠ¶æ€æ›´æ–°ï¼‰
- **VLOG**: è§†é¢‘æ—¥å¿—ï¼ˆåŒ…å«è§†é¢‘å†…å®¹ï¼‰

### å¸–å­çŠ¶æ€è¯´æ˜

- **DRAFT**: è‰ç¨¿ï¼ˆæœªå‘å¸ƒï¼‰
- **PUBLISHED**: å·²å‘å¸ƒï¼ˆå…¬å¼€å¯è§ï¼‰
- **DELETED**: å·²åˆ é™¤ï¼ˆè½¯åˆ é™¤ï¼‰

**æ³¨æ„**: ä¸æ•°æ®åº“postsè¡¨statuså­—æ®µå®Œå…¨ä¸€è‡´

### è¯„è®ºçŠ¶æ€è¯´æ˜

- **VISIBLE**: å¯è§ï¼ˆæ­£å¸¸æ˜¾ç¤ºï¼‰
- **HIDDEN**: å·²éšè—ï¼ˆç®¡ç†å‘˜æ“ä½œï¼‰
- **DELETED**: å·²åˆ é™¤ï¼ˆè½¯åˆ é™¤ï¼‰

**æ³¨æ„**: ä¸æ•°æ®åº“commentsè¡¨statuså­—æ®µå®Œå…¨ä¸€è‡´

### ç‚¹èµ/æ”¶è—è§„åˆ™

- ç‚¹èµå’Œæ”¶è—æ¥å£éƒ½é‡‡ç”¨ toggle æ¨¡å¼
- å·²ç‚¹èµ/æ”¶è—å†æ¬¡è°ƒç”¨ä¼šå–æ¶ˆ
- æœªç‚¹èµ/æ”¶è—è°ƒç”¨ä¼šæ·»åŠ 

### è¯„è®ºå›å¤è§„åˆ™

- `parentId` ä¸º null è¡¨ç¤ºä¸€çº§è¯„è®ºï¼ˆé¡¶çº§è¯„è®ºï¼‰
- `parentId` æœ‰å€¼è¡¨ç¤ºå›å¤è¯„è®ºï¼ˆå­è¯„è®ºï¼‰
- `rootId` æŒ‡å‘æ ¹è¯„è®ºçš„IDï¼Œæ–¹ä¾¿æŸ¥è¯¢æ•´ä¸ªè¯„è®ºæ¥¼å±‚
- æ•°æ®åº“é€šè¿‡ parentId å’Œ rootId å®ç°è¯„è®ºçš„æ ‘å½¢ç»“æ„

---

**æ–‡æ¡£ç‰ˆæœ¬**: v0.1.0  
**æœ€åæ›´æ–°**: 2024-10-29

