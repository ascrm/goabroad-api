# ç¤¾åŒºæ¨¡å— API æ¥å£æ–‡æ¡£

## åˆ›å»ºå¸–å­

### è¯·æ±‚ä¿¡æ¯

**è¯·æ±‚æ–¹å¼ï¼š** `POST`

**è¯·æ±‚åœ°å€ï¼š** `/api/community/posts`

**è¯·æ±‚å¤´ï¼š**
```
Content-Type: application/json
satoken: <ç”¨æˆ·token>
```

### è¯·æ±‚å‚æ•°

| å‚æ•°å | ç±»å‹ | å¿…å¡« | è¯´æ˜ |
|--------|------|------|------|
| contentType | string | æ˜¯ | å†…å®¹ç±»å‹ï¼š`TREND`(æ—¥å¸¸ç”Ÿæ´»åŠ¨æ€) / `QUESTION`(æé—®é¢˜) / `ANSWER`(å†™ç­”æ¡ˆ) / `GUIDE`(å†™æ”»ç•¥) |
| title | string | å¦ | æ ‡é¢˜ï¼ˆQUESTIONã€GUIDEç±»å‹å»ºè®®å¡«å†™ï¼Œå…¶ä»–ç±»å‹å¯é€‰ï¼‰ |
| content | string | æ˜¯ | æ­£æ–‡å†…å®¹ï¼ˆæ”¯æŒ Markdown æ ¼å¼ï¼‰ |
| summary | string | å¦ | æ‘˜è¦ï¼ˆç”¨äºåˆ—è¡¨å±•ç¤ºï¼Œä¸ä¼ åˆ™åç«¯è‡ªåŠ¨æˆªå–contentå‰100å­—ï¼‰ |
| category | string | å¦ | åˆ†ç±»æ ‡ç­¾ï¼ˆå¦‚ï¼šç•™å­¦ã€ç­¾è¯ã€ç”Ÿæ´»ç­‰ï¼‰ |
| coverImage | string | å¦ | å°é¢å›¾ç‰‡ URL |
| mediaUrls | array | å¦ | å›¾ç‰‡/è§†é¢‘ URL æ•°ç»„ï¼Œå¦‚ï¼š`["url1", "url2"]` |
| status | string | å¦ | å‘å¸ƒçŠ¶æ€ï¼š`DRAFT`(è‰ç¨¿) / `PUBLISHED`(å·²å‘å¸ƒ)ï¼Œé»˜è®¤ `PUBLISHED` |
| allowComment | boolean | å¦ | æ˜¯å¦å…è®¸è¯„è®ºï¼Œé»˜è®¤ `true` |

### è¯·æ±‚ç¤ºä¾‹

**ç¤ºä¾‹1ï¼šå‘å¸ƒæ”»ç•¥**
```json
{
  "contentType": "GUIDE",
  "title": "ç¾å›½F1ç­¾è¯é¢ç­¾å®Œæ•´æ”»ç•¥",
  "content": "ä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾ï¼Œåˆ†äº«ä¸€ä¸‹æˆ‘çš„ç»éªŒ...\n\n## å‡†å¤‡ææ–™\n\n1. I-20è¡¨æ ¼\n2. æŠ¤ç…§\n3. ç…§ç‰‡\n\n## é¢è¯•è¿‡ç¨‹\n\né¢è¯•å®˜ä¸»è¦é—®äº†ä»¥ä¸‹é—®é¢˜ï¼š...",
  "summary": "F1ç­¾è¯é¢ç­¾é€šè¿‡ï¼Œåˆ†äº«å‡†å¤‡ææ–™å’Œé¢è¯•æŠ€å·§",
  "category": "ç­¾è¯",
  "coverImage": "https://cdn.goabroad.com/posts/cover-123.jpg",
  "mediaUrls": [
    "https://cdn.goabroad.com/posts/img1.jpg",
    "https://cdn.goabroad.com/posts/img2.jpg"
  ],
  "status": "PUBLISHED"
}
```

**ç¤ºä¾‹2ï¼šå‘å¸ƒæé—®**
```json
{
  "contentType": "QUESTION",
  "title": "æ‰˜ç¦æˆç»©100åˆ†èƒ½ç”³è¯·åˆ°ä»€ä¹ˆå­¦æ ¡ï¼Ÿ",
  "content": "æœ¬äººæ‰˜ç¦100ï¼ŒGPA 3.5ï¼Œæƒ³ç”³è¯·ç¾å›½CSä¸“ä¸šç¡•å£«ï¼Œæœ‰å“ªäº›å­¦æ ¡æ¨èï¼Ÿæœ‰äº†è§£çš„æœ‹å‹å¯ä»¥åˆ†äº«ä¸€ä¸‹ç»éªŒå—ï¼Ÿ",
  "category": "ç•™å­¦",
  "status": "PUBLISHED"
}
```

**ç¤ºä¾‹3ï¼šå‘å¸ƒç­”æ¡ˆ**
```json
{
  "contentType": "ANSWER",
  "content": "æ ¹æ®ä½ çš„æ¡ä»¶ï¼Œæˆ‘å»ºè®®å¯ä»¥ç”³è¯·ä»¥ä¸‹å­¦æ ¡ï¼š\n\n1. **University of Washington** - CSä¸“ä¸šæ’åå¾ˆé«˜\n2. **UCSD** - åœ°ç†ä½ç½®å¥½ï¼Œå°±ä¸šæœºä¼šå¤š\n3. **NYU** - ä½äºçº½çº¦ï¼Œå®ä¹ æœºä¼šä¸°å¯Œ\n\næ‰˜ç¦100åˆ†å·²ç»æ»¡è¶³å¤§éƒ¨åˆ†å­¦æ ¡çš„åŸºæœ¬è¦æ±‚äº†...",
  "category": "ç•™å­¦",
  "status": "PUBLISHED"
}
```

**ç¤ºä¾‹4ï¼šå‘å¸ƒæ—¥å¸¸åŠ¨æ€**
```json
{
  "contentType": "TREND",
  "content": "ä»Šå¤©ç¬¬ä¸€å¤©åˆ°çº½çº¦ï¼Œæ—¶å·®è¿˜æ²¡å€’è¿‡æ¥ğŸ˜´ åˆ†äº«å‡ å¼ åˆåˆ°ç¾å›½çš„ç…§ç‰‡~",
  "coverImage": "https://cdn.goabroad.com/posts/ny-day1-cover.jpg",
  "mediaUrls": [
    "https://cdn.goabroad.com/posts/ny-day1-1.jpg",
    "https://cdn.goabroad.com/posts/ny-day1-2.jpg",
    "https://cdn.goabroad.com/posts/ny-day1-3.jpg"
  ],
  "category": "ç”Ÿæ´»",
  "status": "PUBLISHED"
}
```

### å“åº”æ•°æ®

**æˆåŠŸå“åº”ï¼š**

```json
{
  "code": 200,
  "message": "å‘å¸ƒæˆåŠŸ",
  "data": {
    "id": 123,
    "authorId": 456,
    "contentType": "GUIDE",
    "title": "ç¾å›½F1ç­¾è¯é¢ç­¾å®Œæ•´æ”»ç•¥",
    "content": "ä»Šå¤©åˆšåˆšé€šè¿‡é¢ç­¾ï¼Œåˆ†äº«ä¸€ä¸‹æˆ‘çš„ç»éªŒ...",
    "summary": "F1ç­¾è¯é¢ç­¾é€šè¿‡ï¼Œåˆ†äº«å‡†å¤‡ææ–™å’Œé¢è¯•æŠ€å·§",
    "category": "ç­¾è¯",
    "coverImage": "https://cdn.goabroad.com/posts/cover-123.jpg",
    "mediaUrls": [
      "https://cdn.goabroad.com/posts/img1.jpg",
      "https://cdn.goabroad.com/posts/img2.jpg"
    ],
    "status": "PUBLISHED",
    "allowComment": true,
    "viewCount": 0,
    "likeCount": 0,
    "commentCount": 0,
    "collectCount": 0,
    "shareCount": 0,
    "isFeatured": false,
    "isPinned": false,
    "isHot": false,
    "createdAt": "2024-11-03T10:00:00",
    "updatedAt": "2024-11-03T10:00:00",
    "publishedAt": "2024-11-03T10:00:00"
  }
}
```

**å¤±è´¥å“åº”ï¼š**

```json
{
  "code": 400,
  "message": "å†…å®¹ä¸èƒ½ä¸ºç©º",
  "data": null
}
```

### å­—æ®µè¯´æ˜

**å“åº”å­—æ®µï¼š**
- `id` - å¸–å­ID
- `authorId` - ä½œè€…ç”¨æˆ·ID
- `contentType` - å†…å®¹ç±»å‹
- `title` - æ ‡é¢˜
- `content` - æ­£æ–‡ï¼ˆMarkdownæ ¼å¼ï¼‰
- `summary` - æ‘˜è¦
- `category` - åˆ†ç±»
- `coverImage` - å°é¢å›¾URL
- `mediaUrls` - åª’ä½“æ–‡ä»¶URLæ•°ç»„ï¼ˆå›¾ç‰‡/è§†é¢‘ï¼‰
- `status` - å‘å¸ƒçŠ¶æ€
- `allowComment` - æ˜¯å¦å…è®¸è¯„è®º
- `viewCount` - æµè§ˆé‡
- `likeCount` - ç‚¹èµæ•°
- `commentCount` - è¯„è®ºæ•°
- `collectCount` - æ”¶è—æ•°
- `shareCount` - åˆ†äº«æ•°
- `isFeatured` - æ˜¯å¦ç²¾é€‰ï¼ˆç®¡ç†å‘˜è®¾ç½®ï¼‰
- `isPinned` - æ˜¯å¦ç½®é¡¶ï¼ˆç®¡ç†å‘˜è®¾ç½®ï¼‰
- `isHot` - æ˜¯å¦çƒ­é—¨ï¼ˆç³»ç»Ÿè®¡ç®—ï¼‰
- `createdAt` - åˆ›å»ºæ—¶é—´
- `updatedAt` - æ›´æ–°æ—¶é—´
- `publishedAt` - å‘å¸ƒæ—¶é—´

### é”™è¯¯ç è¯´æ˜

| é”™è¯¯ç  | è¯´æ˜ |
|--------|------|
| 400 | å‚æ•°é”™è¯¯ï¼ˆå¿…å¡«å­—æ®µç¼ºå¤±æˆ–æ ¼å¼é”™è¯¯ï¼‰ |
| 401 | æœªç™»å½•æˆ– token å¤±æ•ˆ |
| 403 | æ— æƒé™æ“ä½œ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |

### ä¸šåŠ¡è§„åˆ™

1. **å¿…å¡«å­—æ®µï¼š**
   - `contentType` - å¿…å¡«
   - `content` - å¿…å¡«
   - `title` - QUESTIONã€GUIDE ç±»å‹å»ºè®®å¡«å†™ï¼Œæå‡å†…å®¹å¯è¯»æ€§

2. **å­—æ®µé™åˆ¶ï¼š**
   - `title` - æœ€å¤§200å­—ç¬¦
   - `summary` - æœ€å¤§500å­—ç¬¦
   - `content` - æ— é™åˆ¶ï¼ˆTEXTç±»å‹ï¼‰
   - `mediaUrls` - æœ€å¤š9å¼ å›¾ç‰‡/1ä¸ªè§†é¢‘

3. **è‡ªåŠ¨å¤„ç†ï¼š**
   - å¦‚æœä¸ä¼  `summary`ï¼Œåç«¯è‡ªåŠ¨æˆªå– `content` å‰100å­—ä½œä¸ºæ‘˜è¦
   - è‰ç¨¿çŠ¶æ€çš„å¸–å­ä¸ä¼šå‡ºç°åœ¨å…¬å¼€åˆ—è¡¨ä¸­
   - `publishedAt` å­—æ®µåœ¨çŠ¶æ€ä¸º `PUBLISHED` æ—¶è‡ªåŠ¨è®¾ç½®ä¸ºå½“å‰æ—¶é—´

4. **å†…å®¹ç±»å‹è¯´æ˜ï¼š**
   - `TREND` - æ—¥å¸¸ç”Ÿæ´»åŠ¨æ€ï¼Œç®€çŸ­çš„æ–‡å­—+å›¾ç‰‡åˆ†äº«
   - `QUESTION` - æé—®é¢˜ï¼Œå»ºè®®å¡«å†™æ ‡é¢˜ï¼Œæ–¹ä¾¿å…¶ä»–ç”¨æˆ·å¿«é€Ÿäº†è§£é—®é¢˜
   - `ANSWER` - å†™ç­”æ¡ˆï¼Œé’ˆå¯¹æŸä¸ªé—®é¢˜çš„å›ç­”å†…å®¹
   - `GUIDE` - å†™æ”»ç•¥ï¼Œè¯¦ç»†çš„ç»éªŒåˆ†äº«ã€æ•™ç¨‹ç­‰ï¼Œå»ºè®®å¡«å†™æ ‡é¢˜å’Œå°é¢å›¾
